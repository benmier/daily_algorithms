<script type="text/javascript">
	
function unionUnsortedArrays(arr1, arr2) {
    if (!(arr1 instanceof Array) ||
        !(arr2 instanceof Array)) {
        return [];
    }

    var arr3 = [];
    var counts = {};
    for (var idx1 = 0; idx1 < arr1.length; idx1++) {
        if (counts[arr1[idx1]] === undefined) {
            counts[arr1[idx1]] = 0;
        }
        counts[arr1[idx1]]++;
        // arr3.push(arr1[idx1]);
    }
    console.log(counts)
    for (var idx2 = 0; idx2 < arr2.length; idx2++) {
        if (counts[arr2[idx2]] === undefined ||
            (--counts[arr2[idx2]]) < 0) {
            // arr3.push(arr2[idx2]);
        }
    }
    return arr3;
}
var arr1 = [2,7,2,1], arr2 = [2,7,2,1,6,6];
console.log(unionUnsortedArrays(arr1,arr2));









</script>